services:
  cliproxyapi:
    image: eceasy/cli-proxy-api:latest
    container_name: cliproxyapi
    restart: unless-stopped
    environment:
      - MANAGEMENT_STATIC_PATH=/CLIProxyAPI/static
    ports:
      - "18317:8317"
    volumes:
      # Persist config + static assets from your repo
      # Config file persisted on host (read/write)
      - ./config/config.yaml:/CLIProxyAPI/config.yaml
      # Static assets (ok to keep read-only)
      - ./config/static:/CLIProxyAPI/static
      # Persist runtime data (tokens, keys, downloaded assets)
      - cliproxyapi_auth:/root/.cli-proxy-api

volumes:
  cliproxyapi_auth:
